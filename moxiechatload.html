<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Moxie ChatKit</title>
    <script type="module">
      import "https://cdn.jsdelivr.net/npm/@openai/chatkit@latest";

      const params = new URLSearchParams(window.location.search);
      const token = params.get("token");
      const workflow_id = params.get("workflow_id");

      if (token && workflow_id) {
        const chatEl = document.createElement("openai-chatkit");
        chatEl.setAttribute("client-secret", token);
        chatEl.setAttribute("workflow-id", workflow_id);
        chatEl.setAttribute("dark", "true"); // optional
        chatEl.style.width = "100vw";
        chatEl.style.height = "100vh";
        chatEl.style.border = "none";
        document.body.appendChild(chatEl);
      } else {
        document.body.innerHTML = `<div style="color: white; padding: 2rem;">Missing token or workflow_id in URL.</div>`;
      }
    </script>
    <style>
      body {
        margin: 0;
        background-color: #000;
      }
    </style>
  </head>
  <body></body>
</html>
